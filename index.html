<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>Auto-Style</title>

<style>
:root{
--green:#2e7d32;
--dark:#1c1c1c;
--glass:rgba(255,255,255,.08);
}

body{
font-family:Arial,sans-serif;
margin:0;
padding:20px;
background:#f5f6f8;
overflow-x:hidden;
min-height:100vh;
}

/* LOGIN */
.login-screen{
position:fixed;inset:0;
background:linear-gradient(135deg,#1b5e20,#000);
display:flex;justify-content:center;align-items:center;
z-index:9999;
}
.login-box{
background:#fff;padding:30px 25px;border-radius:16px;
width:100%;max-width:400px;text-align:center;
box-shadow:0 30px 60px rgba(0,0,0,.4);
animation:fadeIn .5s ease;
}
@keyframes fadeIn{
from{opacity:0;transform:translateY(20px);}
to{opacity:1;transform:translateY(0);}
}

/* HEADER */
.header{
background:white;padding:15px;border-radius:12px;
box-shadow:0 8px 25px rgba(0,0,0,.08);
margin-bottom:20px;text-align:center;
}
.logo{font-size:28px;font-weight:bold;}
.logo .green{color:var(--green);}
.logo .black{color:#000;}

/* MENU */
.menu-toggle{
position:fixed;top:20px;left:20px;
width:50px;height:50px;
background:linear-gradient(135deg,var(--green),#145a18);
color:white;display:flex;align-items:center;justify-content:center;
border-radius:14px;cursor:pointer;z-index:3001;
box-shadow:0 10px 25px rgba(0,0,0,.25);
}

.side-menu{
position:fixed;top:0;left:0;height:100%;
width:280px;background:#111;color:white;
padding:80px 20px 20px;
transform:translateX(-100%);
transition:transform .35s cubic-bezier(.77,0,.18,1);
z-index:3002;
box-shadow:20px 0 60px rgba(0,0,0,.6);
}
.side-menu.active{transform:translateX(0);}

.overlay{
position:fixed;inset:0;
background:rgba(0,0,0,.5);
backdrop-filter:blur(6px);
opacity:0;pointer-events:none;
transition:.3s;
z-index:3000;
}
.overlay.active{
opacity:1;pointer-events:auto;
}

/* CALCULATORS GRID */
.wrapper{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(300px,1fr));
gap:20px;
width:100%;
}

.calculator{
background:white;
border-radius:16px;
padding:20px;
box-shadow:0 10px 30px rgba(0,0,0,.08);
transition:.3s;
animation:fadeIn .6s ease;
}
.calculator:hover{
transform:translateY(-6px);
box-shadow:0 20px 40px rgba(0,0,0,.12);
}

.title{font-size:18px;font-weight:bold;}
.subtitle{color:#d32f2f;font-weight:bold;margin-bottom:15px;}

.input{
width:100%;padding:10px;
border-radius:8px;border:1px solid #ccc;
margin-bottom:15px;
}

.btn{
width:100%;padding:10px;
border:none;border-radius:8px;
background:linear-gradient(135deg,#1976d2,#0d47a1);
color:white;cursor:pointer;margin-bottom:15px;
}

table{width:100%;font-size:14px;border-collapse:collapse;}
th{text-align:left;padding-bottom:8px;border-bottom:1px solid #ddd;}
td{padding:8px 0;border-bottom:1px solid #eee;}
.result{font-weight:bold;}

/* CHAT */
#chatToggle{
position:fixed;bottom:20px;right:20px;
background:var(--green);color:white;
padding:14px 18px;border-radius:40px;
cursor:pointer;z-index:3003;
box-shadow:0 10px 25px rgba(0,0,0,.3);
}

#chatWindow{
position:fixed;bottom:80px;right:20px;
width:340px;height:450px;
background:var(--dark);
border-radius:18px;
display:flex;flex-direction:column;
overflow:hidden;
opacity:0;pointer-events:none;
transform:translateY(20px);
transition:.3s;
z-index:3003;
}
#chatWindow.active{
opacity:1;pointer-events:auto;
transform:translateY(0);
}

#chatMessages{
flex:1;padding:12px;
overflow-y:auto;
display:flex;flex-direction:column;
gap:8px;
}

.msg{
padding:8px 12px;
border-radius:14px;
max-width:75%;
font-size:14px;
animation:fadeIn .2s ease;
}
.me{
background:var(--green);
align-self:flex-end;
color:white;
border-bottom-right-radius:4px;
}
.other{
background:#333;
align-self:flex-start;
color:white;
border-bottom-left-radius:4px;
}

#chatInputArea{
display:flex;padding:10px;background:#111;
}
#chatInput{
flex:1;border:none;border-radius:8px;padding:8px;
}
#chatSend{
margin-left:6px;background:var(--green);color:white;border:none;border-radius:8px;padding:8px 12px;
}

/* MOBILE */
@media(max-width:768px){
body{padding:10px;}
#chatWindow{
width:100%;
right:0;bottom:0;height:80vh;
border-radius:20px 20px 0 0;
}
}
</style>
</head>
<body>

<div class="overlay" id="overlay"></div>

<!-- LOGIN -->
<div id="loginScreen" class="login-screen">
<div class="login-box">
<h2>Auto-Style</h2>
<select id="userSelect">
<option value="cashier">–ö–∞—Å—Å–∏—Ä</option>
<option value="evgeniy">–ï–≤–≥–µ–Ω–∏–π</option>
<option value="vadim">–í–∞–¥–∏–º</option>
</select>
<input type="password" id="passwordInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å">
<button id="loginBtn" style="background:var(--green);width:100%;padding:10px;border:none;border-radius:8px;color:white;">–í–æ–π—Ç–∏</button>
<div id="errorMsg" style="color:red;margin-top:10px;"></div>
</div>
</div>

<div class="menu-toggle" onclick="toggleMenu()">‚ò∞</div>
<div id="sideMenu" class="side-menu">
<div id="currentUser"></div>
<button>–û–§–û–†–ú–ò–¢–¨ –ë–ï–ó–ù–ê–õ</button>
<button>–ó–ê–ö–†–´–¢–ò–ï –°–ú–ï–ù–´</button>
<button>–°–ö–ò–î–û–ß–ù–ê–Ø –ö–ê–†–¢–ê</button>
<button onclick="logout()">–í–´–ô–¢–ò</button>
</div>

<div class="header">
<div class="logo"><span class="green">A</span><span class="black">uto-</span><span class="green">S</span><span class="black">tyle</span></div>
</div>

<div class="wrapper">

<!-- –ê–ì–†–û–ü–†–û–ú–ë–ê–ù–ö -->
<div class="calculator">
<div class="title">–ö–ê–õ–¨–ö–£–õ–Ø–¢–û–† –†–ê–°–°–†–û–ß–ö–ò</div>
<div class="subtitle">–ê–ì–†–û–ü–†–û–ú–ë–ê–ù–ö</div>
<input type="number" class="input sum">
<button class="btn btn-calc">–†–ê–°–°–ß–ò–¢–ê–¢–¨</button>
<table>
<tr><th>–†–ê–°–°–†–û–ß–ö–ê</th><th>–ö–û–≠–§–§.</th><th>–ò–¢–û–ì–û</th></tr>
<tr><td>3 –º–µ—Å.</td><td class="coef">0.955</td><td class="result"></td></tr>
<tr><td>6 –º–µ—Å.</td><td class="coef">0.93</td><td class="result"></td></tr>
<tr><td>9 –º–µ—Å.</td><td class="coef">0.90</td><td class="result"></td></tr>
<tr><td>12 –º–µ—Å.</td><td class="coef">0.875</td><td class="result"></td></tr>
</table>
</div>

<!-- –≠–ö–°–ò–ú–ë–ê–ù–ö -->
<div class="calculator">
<div class="title">–ö–ê–õ–¨–ö–£–õ–Ø–¢–û–† –†–ê–°–°–†–û–ß–ö–ò</div>
<div class="subtitle">–≠–ö–°–ò–ú–ë–ê–ù–ö</div>
<input type="number" class="input sum">
<button class="btn btn-calc">–†–ê–°–°–ß–ò–¢–ê–¢–¨</button>
<table>
<tr><th>–†–ê–°–°–†–û–ß–ö–ê</th><th>–ö–û–≠–§–§.</th><th>–ò–¢–û–ì–û</th></tr>
<tr><td>3 –º–µ—Å.</td><td class="coef">0.955</td><td class="result"></td></tr>
<tr><td>6 –º–µ—Å.</td><td class="coef">0.93</td><td class="result"></td></tr>
<tr><td>9 –º–µ—Å.</td><td class="coef">0.90</td><td class="result"></td></tr>
<tr><td>12 –º–µ—Å.</td><td class="coef">0.886</td><td class="result"></td></tr>
</table>
</div>

<!-- –°–ë–ï–†–ë–ê–ù–ö -->
<div class="calculator">
<div class="title">–ö–ê–õ–¨–ö–£–õ–Ø–¢–û–† –†–ê–°–°–†–û–ß–ö–ò</div>
<div class="subtitle">–°–ë–ï–†–ë–ê–ù–ö</div>
<input type="number" class="input sum">
<button class="btn btn-calc">–†–ê–°–°–ß–ò–¢–ê–¢–¨</button>
<table>
<tr><th>–†–ê–°–°–†–û–ß–ö–ê</th><th>–ö–û–≠–§–§.</th><th>–ò–¢–û–ì–û</th></tr>
<tr><td>3 –º–µ—Å.</td><td class="coef">0.96</td><td class="result"></td></tr>
<tr><td>6 –º–µ—Å.</td><td class="coef">0.93</td><td class="result"></td></tr>
<tr><td>9 –º–µ—Å.</td><td class="coef">0.90</td><td class="result"></td></tr>
<tr><td>12 –º–µ—Å.</td><td class="coef">0.88</td><td class="result"></td></tr>
</table>
</div>

</div>

<!-- CHAT -->
<div id="chatToggle" onclick="toggleChat()">–ß–∞—Ç</div>
<div id="chatWindow">
<div id="chatMessages"></div>
<div id="chatInputArea">
<input id="chatInput" placeholder="–°–æ–æ–±—â–µ–Ω–∏–µ">
<button id="chatSend">‚û§</button>
</div>
</div>

<script>
const users={
cashier:{name:"–ö–∞—Å—Å–∏—Ä",pass:"2012"},
evgeniy:{name:"–ï–≤–≥–µ–Ω–∏–π",pass:"0186"},
vadim:{name:"–í–∞–¥–∏–º",pass:"2385"}
};
let currentUser="";
const chatKey="chatHistory";

/* LOGIN */
loginBtn.onclick=function(){
const u=userSelect.value;
if(passwordInput.value===users[u].pass){
currentUser=u;
loginScreen.style.display="none";
document.getElementById("currentUser").textContent="üë§ "+users[u].name;
renderChat();
}else errorMsg.textContent="–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å";
};

/* CALCULATORS */
document.querySelectorAll(".calculator").forEach(calc=>{
calc.querySelector(".btn-calc").onclick=function(){
const sum=parseFloat(calc.querySelector(".sum").value);
if(isNaN(sum))return;
calc.querySelectorAll(".coef").forEach((c,i)=>{
calc.querySelectorAll(".result")[i].textContent=
(sum/parseFloat(c.textContent)).toLocaleString("ru-RU",{minimumFractionDigits:2});
});
};
});

/* CHAT */
function toggleChat(){chatWindow.classList.toggle("active");}

chatSend.onclick=function(){
const text=chatInput.value.trim();
if(!text)return;
let data=JSON.parse(localStorage.getItem(chatKey)||"[]");
data.push({user:currentUser,text});
localStorage.setItem(chatKey,JSON.stringify(data));
chatInput.value="";
renderChat();
};

function renderChat(){
chatMessages.innerHTML="";
let data=JSON.parse(localStorage.getItem(chatKey)||"[]");
data.forEach(m=>{
const div=document.createElement("div");
div.className="msg "+(m.user===currentUser?"me":"other");
div.textContent=users[m.user].name+": "+m.text;
chatMessages.appendChild(div);
});
chatMessages.scrollTop=chatMessages.scrollHeight;
}
setInterval(renderChat,1000);

/* MENU */
const sideMenu=document.getElementById("sideMenu");
const overlay=document.getElementById("overlay");
function toggleMenu(){
sideMenu.classList.toggle("active");
overlay.classList.toggle("active");
}
overlay.onclick=toggleMenu;

/* SWIPE */
let startX=0;
document.addEventListener("touchstart",e=>{startX=e.touches[0].clientX;});
document.addEventListener("touchend",e=>{
let endX=e.changedTouches[0].clientX;
if(startX<30 && endX>100)toggleMenu();
if(startX>200 && endX<100)toggleMenu();
});

function logout(){location.reload();}
</script>

</body>
</html>
