<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ä–∞—Å—Å—Ä–æ—á–∫–∏</title>

<style>
*{box-sizing:border-box;}
body{
font-family:Arial,sans-serif;
background:#f5f6f8;
margin:0;
padding:20px;
overflow-x:hidden;
}

/* ===== HEADER ===== */
.header{
background:white;
padding:15px;
border-radius:8px;
box-shadow:0 4px 12px rgba(0,0,0,.08);
margin-bottom:20px;
text-align:center;
}

.logo{
font-size:28px;
font-weight:bold;
letter-spacing:1px;
}
.logo .green{color:#2e7d32;}
.logo .black{color:#000;}

.manager-panel{
margin-top:8px;
font-size:14px;
color:#555;
border-top:1px solid #eee;
padding-top:8px;
}

/* ===== CALCULATORS ===== */
.wrapper{
display:flex;
gap:20px;
flex-wrap:wrap;
width:100%;
}

.calculator{
background:#fff;
border-radius:8px;
padding:20px;
box-shadow:0 4px 12px rgba(0,0,0,.08);
flex:1 1 300px;
width:100%;
transition:.3s;
}

.calculator:hover{
transform:translateY(-4px);
box-shadow:0 10px 25px rgba(0,0,0,.12);
}

.title{font-size:20px;font-weight:bold;}
.subtitle{color:#d32f2f;font-weight:bold;margin-bottom:15px;}
.hint{margin-bottom:10px;color:#555;}

.input{
width:100%;
padding:10px;
font-size:16px;
margin-bottom:15px;
border:1px solid #ccc;
border-radius:6px;
}

.btn{
width:100%;
color:white;
padding:12px;
font-size:16px;
border:none;
border-radius:6px;
cursor:pointer;
margin-bottom:20px;
transition:.2s;
}

.btn:hover{opacity:.9;}
.btn:active{transform:scale(.98);}

.btn-calc{
background:linear-gradient(to right,#1976d2,#0d47a1);
}

table{
width:100%;
border-collapse:collapse;
font-size:14px;
}
th{border-bottom:1px solid #ddd;padding-bottom:8px;text-align:left;}
td{border-bottom:1px solid #eee;padding:10px 0;}
.coef{color:#555;}
.result{font-weight:bold;}

/* ===== LOGIN ===== */
.login-screen{
position:fixed;
top:0;left:0;
width:100%;height:100vh;
background:linear-gradient(135deg,#1b5e20,#000);
display:flex;
justify-content:center;
align-items:center;
padding:20px;
z-index:9999;
}

.login-box{
background:white;
padding:30px 25px;
border-radius:14px;
width:100%;
max-width:400px;
text-align:center;
box-shadow:0 20px 50px rgba(0,0,0,.4);
animation:fadeIn .4s ease;
}

.login-logo{font-size:30px;font-weight:bold;margin-bottom:10px;}
.login-subtitle{color:#555;margin-bottom:15px;}

select,input[type="password"]{
width:100%;
padding:12px;
font-size:16px;
border:1px solid #ccc;
border-radius:6px;
margin-bottom:15px;
}

.login-btn{
width:100%;
padding:12px;
font-size:16px;
border:none;
border-radius:6px;
cursor:pointer;
color:white;
background:linear-gradient(to right,#43a047,#1b5e20);
}

.error-msg{color:#d32f2f;font-size:14px;margin-top:8px;}

@keyframes fadeIn{
from{opacity:0;transform:translateY(10px);}
to{opacity:1;transform:translateY(0);}
}

/* ===== PREMIUM SIDE MENU ===== */
.menu-toggle{
position:fixed;
top:20px;
left:20px;
width:45px;
height:45px;
background:linear-gradient(135deg,#2e7d32,#1b5e20);
color:white;
display:flex;
align-items:center;
justify-content:center;
border-radius:12px;
cursor:pointer;
z-index:3000;
box-shadow:0 6px 20px rgba(0,0,0,.3);
transition:.3s;
}

.menu-toggle:hover{transform:scale(1.1);}

.side-menu{
position:fixed;
top:0;
left:-320px;
width:300px;
height:100%;
background:rgba(20,20,20,.95);
backdrop-filter:blur(12px);
color:white;
padding:80px 20px 20px 20px;
transition:.4s cubic-bezier(.77,0,.18,1);
z-index:2500;
box-shadow:10px 0 40px rgba(0,0,0,.5);
}

.side-menu.active{left:0;}

.user-name{
font-size:20px;
font-weight:bold;
margin-bottom:15px;
color:#43a047;
}

.session-time{
margin-bottom:25px;
padding:12px;
background:rgba(255,255,255,.05);
border-radius:10px;
font-size:14px;
}

.menu-btn{
width:100%;
padding:12px;
margin-bottom:12px;
border:none;
border-radius:8px;
cursor:pointer;
color:white;
font-size:14px;
transition:.3s;
background:linear-gradient(to right,#333,#222);
}

.menu-btn:hover{
transform:translateX(6px);
background:linear-gradient(to right,#43a047,#1b5e20);
}

.logout-btn{
background:linear-gradient(to right,#c62828,#8e0000);
}

/* mobile */
@media(max-width:768px){
body{padding:10px;}
}

</style>
</head>
<body>

<!-- LOGIN -->
<div id="loginScreen" class="login-screen">
<div class="login-box">
<div class="login-logo">
<span class="green">A</span><span class="black">uto-</span>
<span class="green">S</span><span class="black">tyle</span>
</div>
<div class="login-subtitle">–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</div>
<select id="userSelect">
<option value="cashier">–ö–∞—Å—Å–∏—Ä</option>
<option value="evgeniy">–ï–≤–≥–µ–Ω–∏–π</option>
<option value="vadim">–í–∞–¥–∏–º</option>
</select>
<input type="password" id="passwordInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å">
<button id="loginBtn" class="login-btn">–í–û–ô–¢–ò</button>
<div id="errorMsg" class="error-msg"></div>
</div>
</div>

<div class="menu-toggle" onclick="toggleMenu()">‚ò∞</div>

<div id="sideMenu" class="side-menu">
<div class="user-name" id="currentUser"></div>

<div class="session-time">
–°–µ—Å—Å–∏—è –∏—Å—Ç–µ–∫–∞–µ—Ç —á–µ—Ä–µ–∑:
<div id="timeLeft"></div>
</div>

<!-- Display "–û—Å—Ç–∞–ª–æ—Å—å –≤—Ä–µ–º—è –¥–æ –∫–æ–Ω—Ü–∞ —Ä–∞–±–æ—á–µ–≥–æ –¥–Ω—è" —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–∞—Å—Å–∏—Ä–∞ -->
<div id="workingDayTimer" style="display:none;">
–û—Å—Ç–∞–ª–æ—Å—å –≤—Ä–µ–º–µ–Ω–∏ –¥–æ –∫–æ–Ω—Ü–∞ —Ä–∞–±–æ—á–µ–≥–æ –¥–Ω—è:
<div id="timeToEndOfDay"></div>
</div>

<button class="menu-btn" onclick="location.href='beznal.html'">–û–§–û–†–ú–ò–¢–¨ –ë–ï–ó–ù–ê–õ</button>
<button class="menu-btn" onclick="location.href='smena.html'">–ó–ê–ö–†–´–¢–ò–ï –°–ú–ï–ù–´</button>
<button class="menu-btn" onclick="location.href='discount.html'">–°–ö–ò–î–û–ß–ù–ê–Ø –ö–ê–†–¢–ê</button>
<button class="menu-btn" onclick="location.href='pass.html'">–ü–ê–†–û–õ–ò</button>

<button class="menu-btn logout-btn" onclick="logout()">–í–´–ô–¢–ò</button>
</div>

<!-- ===== –í–ê–® –ö–û–ù–¢–ï–ù–¢ –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô ===== -->

<div class="header">
<div class="logo">
<span class="green">A</span><span class="black">uto-</span>
<span class="green">S</span><span class="black">tyle</span>
</div>
<div class="manager-panel">–ü–∞–Ω–µ–ª—å –º–µ–Ω–µ–¥–∂–µ—Ä–∞</div>
</div>

<div class="wrapper">

<!-- –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã -->

<!-- –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä 1 -->
<div class="calculator">
<div class="title">–ö–ê–õ–¨–ö–£–õ–Ø–¢–û–† –†–ê–°–°–†–û–ß–ö–ò</div>
<div class="subtitle">–ê–ì–†–û–ü–†–û–ú–ë–ê–ù–ö</div>
<div class="hint">–í–≤–µ–¥–∏—Ç–µ –æ–±—â—É—é —Å—É–º–º—É —á–µ–∫–∞</div>
<input type="number" class="input sum">
<button class="btn btn-calc">–†–ê–°–°–ß–ò–¢–ê–¢–¨</button>
<table>
<tr><th>–†–ê–°–°–†–û–ß–ö–ê</th><th>–ö–û–≠–§–§.</th><th>–ò–¢–û–ì–û</th></tr>
<tr><td>–ê–ü–ë 3</td><td class="coef">0.955</td><td class="result"></td></tr>
<tr><td>–ê–ü–ë 6</td><td class="coef">0.93</td><td class="result"></td></tr>
<tr><td>–ê–ü–ë 9</td><td class="coef">0.90</td><td class="result"></td></tr>
<tr><td>–ê–ü–ë 12</td><td class="coef">0.875</td><td class="result"></td></tr>
</table>
</div>

<!-- –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä 2 -->
<div class="calculator">
<div class="title">–ö–ê–õ–¨–ö–£–õ–Ø–¢–û–† –†–ê–°–°–†–û–ß–ö–ò</div>
<div class="subtitle">–≠–ö–°–ò–ú–ë–ê–ù–ö</div>
<input type="number" class="input sum">
<button class="btn btn-calc">–†–ê–°–°–ß–ò–¢–ê–¢–¨</button>
<table>
<tr><th>–†–ê–°–°–†–û–ß–ö–ê</th><th>–ö–û–≠–§–§.</th><th>–ò–¢–û–ì–û</th></tr>
<tr><td>3 –º–µ—Å</td><td class="coef">0.955</td><td class="result"></td></tr>
<tr><td>6 –º–µ—Å</td><td class="coef">0.93</td><td class="result"></td></tr>
<tr><td>9 –º–µ—Å</td><td class="coef">0.90</td><td class="result"></td></tr>
<tr><td>12 –º–µ—Å</td><td class="coef">0.886</td><td class="result"></td></tr>
</table>
</div>

<!-- –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä 3 -->
<div class="calculator">
<div class="title">–ö–ê–õ–¨–ö–£–õ–Ø–¢–û–† –†–ê–°–°–†–û–ß–ö–ò</div>
<div class="subtitle">–°–ë–ï–†–ë–ê–ù–ö</div>
<input type="number" class="input sum">
<button class="btn btn-calc">–†–ê–°–°–ß–ò–¢–ê–¢–¨</button>
<table>
<tr><th>–†–ê–°–°–†–û–ß–ö–ê</th><th>–ö–û–≠–§–§.</th><th>–ò–¢–û–ì–û</th></tr>
<tr><td>3 –º–µ—Å</td><td class="coef">0.96</td><td class="result"></td></tr>
<tr><td>6 –º–µ—Å</td><td class="coef">0.93</td><td class="result"></td></tr>
<tr><td>9 –º–µ—Å</td><td class="coef">0.90</td><td class="result"></td></tr>
<tr><td>12 –º–µ—Å</td><td class="coef">0.88</td><td class="result"></td></tr>
</table>
</div>

</div>

<script>

/* ORIGINAL JS */

document.querySelectorAll('.calculator').forEach(calc=>{
const btn=calc.querySelector('.btn-calc');
btn.onclick=()=>{
const sum=parseFloat(calc.querySelector('.sum').value);
if(!sum)return;
const coefs=calc.querySelectorAll('.coef');
const results=calc.querySelectorAll('.result');
coefs.forEach((c,i)=>{
results[i].textContent=(sum/parseFloat(c.textContent))
.toLocaleString('ru-RU',{minimumFractionDigits:2,maximumFractionDigits:2});
});
};
});

/* AUTH */

const users={
cashier:{name:"–ö–∞—Å—Å–∏—Ä",pass:"2012"},
evgeniy:{name:"–ï–≤–≥–µ–Ω–∏–π",pass:"0186"},
vadim:{name:"–í–∞–¥–∏–º",pass:"2385"}
};

const sessionDuration=24*60*60*1000;
let sessionTimer;

window.addEventListener("load",()=>{
const saved=localStorage.getItem("session");
if(saved){
const data=JSON.parse(saved);
if(Date.now()<data.expire){
startSession(data.user,data.expire);
}
}
});

document.getElementById("loginBtn").onclick=function(){
const userKey=document.getElementById("userSelect").value;
const pass=document.getElementById("passwordInput").value;

if(pass===users[userKey].pass){
const expire=Date.now()+sessionDuration;
localStorage.setItem("session",JSON.stringify({user:userKey,expire}));
startSession(userKey,expire);
}else{
document.getElementById("errorMsg").textContent="–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å";
}
};

function startSession(userKey,expire){
document.getElementById("loginScreen").style.display="none";
document.getElementById("currentUser").textContent="üë§ "+users[userKey].name;
updateTimer(expire);
sessionTimer=setInterval(()=>updateTimer(expire),1000);

if(userKey === 'cashier'){
  document.getElementById('workingDayTimer').style.display = 'block'; // –ü–æ–∫–∞–∑–∞—Ç—å —Ç–∞–π–º–µ—Ä
  setInterval(updateWorkingDayTimer, 60000); // –û–±–Ω–æ–≤–ª—è—Ç—å –∫–∞–∂–¥—ã–π –º–∏–Ω—É—Ç
  updateWorkingDayTimer(); // –û–±–Ω–æ–≤–∏—Ç—å —Å—Ä–∞–∑—É
}
}

function updateTimer(expire){
const diff=expire-Date.now();
if(diff<=0){logout();return;}
const h=Math.floor(diff/1000/60/60);
const m=Math.floor((diff/1000/60)%60);
const s=Math.floor((diff/1000)%60);
document.getElementById("timeLeft").textContent=`${h}—á ${m}–º ${s}—Å`;
}

function updateWorkingDayTimer(){
const endOfDay = new Date();
endOfDay.setHours(19, 0, 0, 0); // 19:00 —Ç–µ–∫—É—â–µ–≥–æ –¥–Ω—è

const diff = endOfDay - Date.now();
if(diff <= 0) {
  document.getElementById("timeToEndOfDay").textContent = "–†–∞–±–æ—á–∏–π –¥–µ–Ω—å –∑–∞–≤–µ—Ä—à–µ–Ω!";
} else {
  const hours = Math.floor(diff / (1000 * 60 * 60));
  const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
  document.getElementById("timeToEndOfDay").textContent = `${hours}—á ${minutes}–º`;
}

}

function logout(){
localStorage.removeItem("session");
clearInterval(sessionTimer);
location.reload();
}

function toggleMenu(){
document.getElementById("sideMenu").classList.toggle("active");
}

</script>

</body>
</html>
