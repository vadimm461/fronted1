<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Счет</title>

<style>

body{
font-family: Arial, sans-serif;
background:#f2f4f8;
padding:20px;
}

.container{
width:900px;
margin:auto;
background:white;
padding:40px;
box-shadow:0 4px 20px rgba(0,0,0,.1);
}

/* Заголовок */
.header{
text-align:center;
margin-bottom:25px;
}

/* таблицы */
table{
width:100%;
border-collapse:collapse;
margin-top:10px;
}

th,td{
border:1px solid #ccc;
padding:8px;
font-size:14px;
}

th{
background:#1976d2;
color:white;
}

/* ширина колонок */
td:nth-child(1){width:60px;}
td:nth-child(3){width:70px;}
td:nth-child(4){width:90px;}

input{
width:100%;
border:none;
outline:none;
font-size:14px;
background:transparent;
}

.total{
text-align:right;
font-weight:bold;
font-size:16px;
}

/* кнопки */
.buttons{
margin-top:20px;
}

button{
width:100%;
padding:12px;
margin-bottom:10px;
border:none;
border-radius:6px;
background:#2e7d32;
color:white;
font-size:16px;
cursor:pointer;
}

button:hover{
opacity:.9;
}

/* печать */
@media print{

body{
background:white;
padding:0;
}

.container{
box-shadow:none;
width:100%;
}

.buttons{
display:none;
}

input{
border:none;
}

}

</style>
</head>
<body>

<div class="container" id="print-area">

<div class="header">
<h2>СЧЕТ НА ОПЛАТУ № <span id="invoice-number"></span></h2>
<div>Дата: <span id="date"></span></div>
</div>

<div>
<b>Плательщик:</b>
<input id="payer" placeholder="Введите организацию">
</div>

<br>

<table>
<tr><td>ИП</td><td>Дворян Вадим Витальевич</td></tr>
<tr><td>УСН</td><td>1440001838</td></tr>
<tr><td>Расчетный счет</td><td>2214050000024165</td></tr>
<tr><td>Банк</td><td>ЗАО "Агропромбанк"</td></tr>
</table>

<br>

<table id="items">

<thead>
<tr>
<th>Код</th>
<th>Наименование</th>
<th>Кол-во</th>
<th>Цена</th>
</tr>
</thead>

<tbody id="tbody"></tbody>

<tfoot>
<tr>
<td colspan="3" class="total">Итого:</td>
<td id="total">0</td>
</tr>
</tfoot>

</table>

<div class="buttons">
<button onclick="addRow()">Добавить строку</button>
<button onclick="calc()">Рассчитать</button>
<button onclick="printPDF()">Скачать PDF</button>
</div>

</div>

<script>

/* дата */
document.getElementById("date").innerText =
new Date().toLocaleDateString("ru-RU");

/* номер счета 0-20 */
document.getElementById("invoice-number").innerText =
Math.floor(Math.random()*21);

/* строки */
function addRow(){
document.getElementById("tbody").insertAdjacentHTML("beforeend",`
<tr>
<td><input></td>
<td><input></td>
<td><input type="number" class="qty" value="0"></td>
<td><input type="number" class="price" value="0"></td>
</tr>
`);
}

/* стартовые строки */
for(let i=0;i<8;i++) addRow();

/* расчет */
function calc(){
let total=0;

document.querySelectorAll("#tbody tr").forEach(row=>{
let q = Number(row.querySelector(".qty").value);
let p = Number(row.querySelector(".price").value);
total += q*p;
});

document.getElementById("total").innerText =
total.toLocaleString('ru-RU');
}

/* печать */
function printPDF(){
calc();
window.print();
}

</script>

</body>
</html>
